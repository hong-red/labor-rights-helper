<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>智能文书生成 - 维权助手</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.0/css/all.min.css">
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: linear-gradient(to bottom, #f0f4f8 0%, #e0e7ed 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 16px;
        }
        header {
            text-align: center;
            padding: 30px 0 20px;
            position: relative;
        }
        .back-button {
            position: absolute;
            left: 10px;
            top: 35px;
            font-size: 1.1rem;
            color: #4a90e2;
            text-decoration: none;
            font-weight: bold;
        }
        h1 {
            color: #2c5282;
            font-size: 1.8rem;
            margin-bottom: 8px;
        }
        .subtitle {
            color: #666;
            font-size: 0.95rem;
        }
        /* 步骤条样式 */
        .steps {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            padding: 0 10px;
        }
        .step-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            flex: 1;
        }
        .step-item:not(:last-child)::after {
            content: '';
            position: absolute;
            top: 14px;
            left: 50%;
            width: 100%;
            height: 2px;
            background: #cbd5e0;
            z-index: 0;
        }
        .step-circle {
            width: 30px;
            height: 30px;
            background: #cbd5e0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            z-index: 1;
            margin-bottom: 6px;
        }
        .step-item.active .step-circle {
            background: #4a90e2;
        }
        .step-item.active::after {
            background: #4a90e2;
        }
        .step-text {
            font-size: 0.8rem;
            color: #718096;
        }
        .step-item.active .step-text {
            color: #2c5282;
            font-weight: bold;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            margin-bottom: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.08);
        }
        .form-group {
            margin-bottom: 16px;
        }
        .hidden-group {
            display: none;
        }
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #4a5568;
        }
        input, textarea, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.2s;
        }
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #4a90e2;
        }
        .btn {
            display: block;
            width: 100%;
            padding: 14px;
            background: linear-gradient(135deg, #4a90e2, #2c5282);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            text-align: center;
            transition: transform 0.1s;
        }
        .btn:active {
            transform: scale(0.98);
        }
        .preview-area {
            background: #f8fafc;
            border: 1px dashed #cbd5e0;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
            white-space: pre-wrap;
            font-family: "Songti SC", "SimSun", serif; /* 仿宋/宋体，更像公文 */
            line-height: 1.8;
            color: #2d3748;
            display: none; /* 默认隐藏 */
        }
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 16px;
            display: none; /* 默认隐藏 */
        }
        .btn-outline {
            background: white;
            color: #2c5282;
            border: 2px solid #2c5282;
        }

        /* 法律免责声明 */
        .disclaimer {
            font-size: 0.8rem;
            color: #718096;
            text-align: center;
            margin-top: 30px;
            padding: 10px;
            border-top: 1px solid #e2e8f0;
        }
        
        /* 打印样式 */
        @media print {
            header, .card:first-of-type, .action-buttons, .back-button, h2, .steps, .disclaimer {
                display: none !important;
            }
            .card#resultCard {
                box-shadow: none;
                margin: 0;
                padding: 0;
            }
            .preview-area {
                border: none;
                background: white;
                font-size: 14pt;
                padding: 0;
                white-space: pre-wrap;
            }
            body {
                background: white;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <a href="index.html" class="back-button">← 返回</a>
            <h1>智能文书生成</h1>
            <div class="subtitle">填写信息，一键生成标准维权文书</div>
        </header>

        <!-- 步骤条 -->
        <div class="steps">
            <div class="step-item active">
                <div class="step-circle">1</div>
                <div class="step-text">选择类型</div>
            </div>
            <div class="step-item active">
                <div class="step-circle">2</div>
                <div class="step-text">填写信息</div>
            </div>
            <div class="step-item">
                <div class="step-circle">3</div>
                <div class="step-text">生成文书</div>
            </div>
        </div>

        <div class="card">
            <div class="form-group">
                <label>请选择文书类型 (5种常用类型)</label>
                <select id="docType" onchange="toggleFields()">
                    <option value="cuikuan">1. 欠薪催款函 (发给老板)</option>
                    <option value="zhongcai">2. 劳动仲裁申请书 (通用)</option>
                    <option value="double_wage">3. 未签劳动合同二倍工资申请</option>
                    <option value="forced_resign">4. 被迫解除劳动合同通知书 (拿补偿金)</option>
                    <option value="injury">5. 工伤认定申请书</option>
                </select>
            </div>

            <!-- 基础信息 (所有类型通用) -->
            <div class="form-group">
                <label>您的姓名</label>
                <input type="text" id="userName" placeholder="例如：张三">
            </div>
            <div class="form-group">
                <label>您的身份证号</label>
                <input type="text" id="userId" placeholder="用于正式文书">
            </div>
            <div class="form-group">
                <label>联系电话</label>
                <input type="tel" id="userPhone" placeholder="用于接收通知">
            </div>
            <div class="form-group">
                <label>入职日期</label>
                <input type="date" id="startDate">
            </div>
            <div class="form-group">
                <label>岗位/职务</label>
                <input type="text" id="jobTitle" placeholder="例如：操作工、厨师">
            </div>
            
            <!-- 公司信息 (所有类型通用) -->
            <div class="form-group">
                <label>公司全称 / 老板姓名</label>
                <input type="text" id="companyName" placeholder="请填写营业执照上的全称">
            </div>

            <!-- 特定字段：欠薪/仲裁 -->
            <div id="group-money" class="form-group">
                <label>欠薪金额 (元)</label>
                <input type="number" id="amount" placeholder="例如：15000">
            </div>
            <div id="group-period" class="form-group">
                <label>欠薪/未签合同时间段</label>
                <input type="text" id="period" placeholder="例如：2023年10月至12月">
            </div>

            <!-- 特定字段：被迫解除 -->
            <div id="group-resign" class="form-group hidden-group">
                <label>解除劳动关系原因</label>
                <select id="resignReason">
                    <option value="unpaid">未及时足额支付劳动报酬</option>
                    <option value="social">未依法为劳动者缴纳社会保险费</option>
                    <option value="rule">规章制度违反法律、法规规定</option>
                </select>
            </div>

            <!-- 特定字段：工伤 -->
            <div id="group-injury" class="form-group hidden-group">
                <label>受伤日期</label>
                <input type="date" id="injuryDate">
            </div>
            <div id="group-hospital" class="form-group hidden-group">
                <label>就诊医院</label>
                <input type="text" id="hospital" placeholder="例如：某某市人民医院">
            </div>
            <div id="group-diagnosis" class="form-group hidden-group">
                <label>诊断结果</label>
                <input type="text" id="diagnosis" placeholder="例如：右腿骨折">
            </div>

            <button class="btn" onclick="generateDoc()">生成文书</button>
        </div>

        <div class="card" id="resultCard" style="display:none;">
            <h2>文书预览</h2>
            <div id="preview" class="preview-area"></div>
            <div class="action-buttons" id="actionBtns">
                <button class="btn" onclick="copyDoc()">复制全文</button>
                <button class="btn btn-outline" onclick="window.print()">打印 / 存为PDF</button>
            </div>
        </div>
        <div class="disclaimer">
            <p><strong>免责声明：</strong>本工具生成的文书仅供参考，不构成正式法律意见。</p>
            <p>复杂案件请咨询专业律师或拨打 12348 法律援助热线。</p>
            <p>本工具所有数据均在本地处理，不上传服务器，请放心使用。</p>
        </div>
    </div>

    <script>
        function toggleFields() {
            const type = document.getElementById('docType').value;
            
            // 获取所有动态字段组
            const moneyGroup = document.getElementById('group-money');
            const periodGroup = document.getElementById('group-period');
            const resignGroup = document.getElementById('group-resign');
            const injuryGroup = document.getElementById('group-injury');
            const hospitalGroup = document.getElementById('group-hospital');
            const diagnosisGroup = document.getElementById('group-diagnosis');

            // 默认全部隐藏
            moneyGroup.style.display = 'none';
            periodGroup.style.display = 'none';
            resignGroup.style.display = 'none';
            injuryGroup.style.display = 'none';
            hospitalGroup.style.display = 'none';
            diagnosisGroup.style.display = 'none';

            // 根据类型显示
            if (type === 'cuikuan' || type === 'zhongcai') {
                moneyGroup.style.display = 'block';
                periodGroup.style.display = 'block';
            } else if (type === 'double_wage') {
                moneyGroup.style.display = 'block'; // 此处复用为二倍工资差额
                periodGroup.style.display = 'block'; // 未签合同时间段
                document.querySelector('#group-money label').textContent = '二倍工资差额 (元)';
                document.querySelector('#group-period label').textContent = '未签合同时间段';
            } else if (type === 'forced_resign') {
                resignGroup.style.display = 'block';
            } else if (type === 'injury') {
                injuryGroup.style.display = 'block';
                hospitalGroup.style.display = 'block';
                diagnosisGroup.style.display = 'block';
            }
            
            // 恢复默认标签
            if (type !== 'double_wage') {
                document.querySelector('#group-money label').textContent = '欠薪金额 (元)';
                document.querySelector('#group-period label').textContent = '欠薪时间段';
            }
        }

        // 初始化运行一次以设置正确状态
        window.onload = toggleFields;

        function generateDoc() {
            const type = document.getElementById('docType').value;
            const name = document.getElementById('userName').value || '___';
            const id = document.getElementById('userId').value || '___';
            const phone = document.getElementById('userPhone').value || '___';
            const company = document.getElementById('companyName').value || '___';
            const start = document.getElementById('startDate').value || '___';
            const job = document.getElementById('jobTitle').value || '___';
            const today = new Date().toLocaleDateString('zh-CN');

            let content = '';

            if (type === 'cuikuan') {
                const amount = document.getElementById('amount').value || '___';
                const period = document.getElementById('period').value || '___';
                content = `【欠薪催款函】

致：${company}

本人（姓名：${name}，身份证号：${id}）于 ${start} 入职贵司/处，担任 ${job} 职务。
截至 ${today}，贵司/处 尚未支付本人 ${period} 的工资，共计人民币 ${amount} 元。

根据《中华人民共和国劳动法》及《工资支付暂行规定》，工资应当按月足额支付给劳动者本人。贵司/处 的行为已严重违反法律规定。

现正式函告贵司/处：
请于收到本函之日起 3 日内，将上述欠薪一次性支付至本人账户。
否则，本人将依法向劳动监察大队投诉或申请劳动仲裁，并保留解除劳动关系、主张经济补偿金的权利。

特此函告。

催款人：${name}
联系电话：${phone}
日期：${today}`;

            } else if (type === 'zhongcai') {
                const amount = document.getElementById('amount').value || '___';
                const period = document.getElementById('period').value || '___';
                content = `【劳动仲裁申请书】

申请人：${name}
身份证号：${id}
联系电话：${phone}
住址：[请补充您的住址]

被申请人：${company}
地址：[请补充公司地址]
法定代表人/负责人：[请补充]

【仲裁请求】
1. 请求裁决被申请人支付申请人 ${period} 期间的工资共计人民币 ${amount} 元；
2. 请求裁决被申请人支付解除劳动合同经济补偿金（如适用）；
3. 请求裁决被申请人承担本案相关费用。

【事实与理由】
申请人于 ${start} 入职被申请人处，担任 ${job} 一职。双方存在劳动关系。
在职期间，申请人正常出勤，但被申请人自 ${period} 起无故拖欠申请人工资。经申请人多次催讨，被申请人仍未支付。

被申请人的行为严重损害了申请人的合法权益。为维护法律尊严和申请人的合法权益，特依据《中华人民共和国劳动争议调解仲裁法》之规定，向贵委提起仲裁申请，望依法裁决。

此致
[请填写入当地] 劳动人事争议仲裁委员会

申请人（签字）：_____________
日期：${today}`;

            } else if (type === 'double_wage') {
                const amount = document.getElementById('amount').value || '___';
                const period = document.getElementById('period').value || '___';
                content = `【劳动仲裁申请书（未签合同二倍工资）】

申请人：${name}
身份证号：${id}
联系电话：${phone}

被申请人：${company}

【仲裁请求】
1. 请求裁决确认申请人与被申请人自 ${start} 至今存在劳动关系；
2. 请求裁决被申请人支付 ${period} 期间因未签订书面劳动合同的二倍工资差额共计人民币 ${amount} 元；
3. 请求裁决被申请人补缴社保（如适用）。

【事实与理由】
申请人于 ${start} 入职被申请人处，担任 ${job} 一职。
入职后，申请人多次要求与被申请人签订书面劳动合同，但被申请人一直推脱，直至今日仍未签订。

根据《中华人民共和国劳动合同法》第八十二条规定，用人单位自用工之日起超过一个月不满一年未与劳动者订立书面劳动合同的，应当向劳动者每月支付二倍的工资。

为维护申请人合法权益，特提起仲裁。

此致
[请填写入当地] 劳动人事争议仲裁委员会

申请人（签字）：_____________
日期：${today}`;

            } else if (type === 'forced_resign') {
                const reasonSelect = document.getElementById('resignReason');
                const reasonText = reasonSelect.options[reasonSelect.selectedIndex].text;
                
                content = `【解除劳动合同通知书】

致：${company}

本人（姓名：${name}）于 ${start} 入职贵司，担任 ${job} 职务。
现因贵司存在以下违法行为：
${reasonText}

根据《中华人民共和国劳动合同法》第三十八条之规定，本人被迫提出解除与贵司的劳动合同，解除时间即刻生效。
请贵司在收到本通知后 3 日内为本人办理离职手续，并支付经济补偿金及结清所有工资。

特此通知。

通知人：${name}
身份证号：${id}
联系电话：${phone}
日期：${today}`;

            } else if (type === 'injury') {
                const injuryDate = document.getElementById('injuryDate').value || '___';
                const hospital = document.getElementById('hospital').value || '___';
                const diagnosis = document.getElementById('diagnosis').value || '___';
                
                content = `【工伤认定申请书】

申请人：${name}
身份证号：${id}
联系电话：${phone}

被申请人（单位）：${company}

【申请事项】
请求依法认定申请人于 ${injuryDate} 受到的事故伤害为工伤。

【事实与理由】
申请人是受聘于被申请人的员工，岗位为 ${job}，入职时间为 ${start}。
${injuryDate}，申请人在工作时间和工作场所内，因工作原因受到事故伤害。
受伤后，申请人被送往 ${hospital} 治疗，经诊断为：${diagnosis}。

根据《工伤保险条例》第十四条的规定，申请人的情形符合认定工伤的条件。特提出申请，请予认定。

此致
[请填写入当地] 人力资源和社会保障局

申请人（签字）：_____________
日期：${today}`;
            }

            document.getElementById('preview').textContent = content;
            document.getElementById('preview').style.display = 'block';
            document.getElementById('actionBtns').style.display = 'flex';
            document.getElementById('resultCard').style.display = 'block';
            
            // 滚动到结果区域
            document.getElementById('resultCard').scrollIntoView({behavior: 'smooth'});
        }

        function copyDoc() {
            const text = document.getElementById('preview').textContent;
            navigator.clipboard.writeText(text).then(() => {
                alert('文书已复制！可粘贴到Word文档中进一步编辑。');
            });
        }
    </script>
</body>
</html>